---
layout: post
title: 使用 Github Pages 和 Jekyll 搭建个人博客
subtitle:
date: 2017-01-04
<!-- comments: true -->
author: monad
header-img: img/post-bg-04.jpg
tags: [github pages, jekyll]

---

## Catagory

- 安装本机环境
- 丰富博客的功能
	1. [添加 Google 统计](#google-)
	2. [添加 Tag 功能](#tag-)
	3. [代码高亮](#section)
	4. [改变高亮样式](#section-1)
	5. [安装插件](#section-2)
	6. [调试](#section-3)

# 添加 Google 统计

在[这里](https://www.google.com/analytics)使用你的 Google 账号登录，
填写网站提供的表单，可以得到如图一个 Tracking ID

<img src="{{ site.baseurl }}/img/ga.jpg" alt="google analytics">

将这段代码添加到 head 文件里，然后执行：

```bash
$ jekyll build
```

```bash
$ jekyll serve
```

来预览你的博客页面。在 google analytics 页面里可以看到统计的信息。

[官方教程](https://support.google.com/tagmanager/answer/6103696?hl=zh-Hans&ref_topic=3441530)

# 添加 Tag 功能
[HOW TO USE TAGS AND CATEGORIES ON GITHUB PAGES WITHOUT PLUGINS](http://www.minddust.com/post/tags-and-categories-on-github-pages)
>占位

# 代码高亮

目前在 Jekyll 3 里默认（强制）使用了 Rouge 作为代码高亮，在 _config.yml 里面修改成如下配置：

```yaml
markdown: kramdown
kramdown:
  input: GFM
highlighter: rouge
```

使用 Markdown 用以下格式编写代码，Rouge 就可以正确输出了

```markdown
`​``html
<a href="#">Hello world</a>
`​``
```
※其中的 "html" 可以替换成当前代码使用的语法，如果遇到了不清楚语法名的代码可以看看 Sublime 编辑器的右下角:smiley:

[Rouge 支持的语法名](https://github.com/jneen/rouge/wiki/List-of-supported-languages-and-lexers)

### 改变高亮样式

Rouge 的主题样式保存在 css 目录下的 syntax.css 文件里，可以自行修改，或者点击[这里](http://jwarby.github.io/jekyll-pygments-themes/languages/javascript.html)下载自己喜欢的样式

# 安装插件

[在 Jekyll 上安装插件](http://jekyllcn.com/docs/plugins)

需要注意的是，Github Pages 生成的页面并不支持所有的 Jekyll 插件，支持的插件列表和教程可以看[这里](https://help.github.com/articles/adding-jekyll-plugins-to-a-github-pages-site)

例如，我安装了一个 jemoji 插件，可以在博客里显示 emoji 文字:+1:

在 Gemfile 文件里添加

```ruby
gem 'jemoji'
```

在 _config.yml 里添加

```yaml
gems: [..., jemoji]
```

然后执行

```bash
$ bundle exec jekyll serve
```

这样就安装好了，去测试一下吧
[emoji 代码列表](http://www.webpagefx.com/tools/emoji-cheat-sheet)

# 调试

有时候在本机调试成功后传到 Github 却会因为一些奇怪的问题无法创建出网页，这时你的邮箱会收到提示邮件，类似：

>The page build failed with the following error:
Page build failed. For more information, see https://help.github.com/articles/troubleshooting-github-pages-build-failures.

但是并没有详细的说明，这时可以到 [Travis CI](https://travis-ci.org) 绑定 Github 账号，它可以显示比较详细的调试信息，帮助你找到问题